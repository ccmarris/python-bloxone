

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>DHCP Options Data Class Usage &mdash; Bloxone API Wrapper 0.9.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Additional Utilities" href="utils.html" />
    <link rel="prev" title="DHCP Option Data Class" href="dhcp-option-data-class.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Bloxone API Wrapper
          

          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes.html">Classes Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="dhcp-utils-classes.html">DHCP Utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dhcp_encode-class.html">DHCP Encoding Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dhcp_encode-usage.html">Usage and Examples for dhcputils (encode)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dhcp_decode-class.html">DHCP Decoding Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="dhcp_decode-usage.html">Usage and Examples for dhcputils (decode)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dhcp-option-data-class.html">DHCP Option Data Class</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">DHCP Options Data Class Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#yaml-file-format">YAML File Format</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Additional Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="code.html">Source Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="version_history.html">ChangeLog</a></li>
<li class="toctree-l1"><a class="reference internal" href="ackowledgements.html">Authors and acknowledgment</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Bloxone API Wrapper</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="dhcp-utils-classes.html">DHCP Utilities</a> &raquo;</li>
        
      <li>DHCP Options Data Class Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/dhcp-option-data-class-usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dhcp-options-data-class-usage">
<h1>DHCP Options Data Class Usage<a class="headerlink" href="#dhcp-options-data-class-usage" title="Permalink to this headline">¶</a></h1>
<p>To simplify the definition and encoding/decoding of DHCP Options with the
<a class="reference internal" href="dhcp_encode-class.html#bloxone.dhcp_encode" title="bloxone.dhcp_encode"><code class="xref py py-class docutils literal notranslate"><span class="pre">bloxone.dhcp_encode()</span></code></a> class, a data class to handle Vendor definitions
is included.</p>
<p>The <a class="reference internal" href="dhcp-option-data-class.html#bloxone.DHCP_OPTION_DEFS" title="bloxone.DHCP_OPTION_DEFS"><code class="xref py py-class docutils literal notranslate"><span class="pre">bloxone.DHCP_OPTION_DEFS()</span></code></a> class provides a simple interface to
read the vendor definition from a YAML file that can contain one or more
vendor definitions.</p>
<div class="section" id="yaml-file-format">
<h2>YAML File Format<a class="headerlink" href="#yaml-file-format" title="Permalink to this headline">¶</a></h2>
<p>The base file definition allows for a file version number and a list of
vendors, a sample showing all of the options is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="c1"># DHCP Vendor Option Definitions</span>
<span class="n">version</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mi">1</span>

<span class="n">vendors</span><span class="p">:</span>

    <span class="n">Sample</span><span class="o">-</span><span class="n">Vendor</span><span class="p">:</span>
        <span class="n">vci</span><span class="p">:</span> <span class="n">sample</span><span class="o">-</span><span class="n">vci</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">My</span> <span class="n">Vendor</span> <span class="n">Class</span>
        <span class="n">prefix</span><span class="p">:</span> <span class="s2">&quot;&lt;prefix str if required&gt;&quot;</span>
        <span class="n">option</span><span class="o">-</span><span class="n">def</span><span class="p">:</span>
            <span class="n">parent</span><span class="o">-</span><span class="n">option</span><span class="p">:</span>
                <span class="n">name</span><span class="p">:</span> <span class="n">option</span> <span class="n">name</span>
                <span class="n">code</span><span class="p">:</span> <span class="mi">43</span>
                <span class="nb">type</span><span class="p">:</span> <span class="n">binary</span>
                <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
            <span class="n">sub</span><span class="o">-</span><span class="n">options</span><span class="p">:</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Sub</span> <span class="n">Opt</span> <span class="mi">1</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="n">Encode</span> <span class="n">this</span> <span class="n">string</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
                    <span class="n">data</span><span class="o">-</span><span class="n">only</span><span class="p">:</span> <span class="kc">False</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Sub</span> <span class="n">Opt</span> <span class="mi">2</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">5</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">ipv4_address</span>
                    <span class="n">data</span><span class="p">:</span> <span class="mf">10.10</span><span class="o">.</span><span class="mf">10.10</span><span class="p">,</span><span class="mf">20.20</span><span class="o">.</span><span class="mf">20.20</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">True</span>
                    <span class="n">data</span><span class="o">-</span><span class="n">only</span><span class="p">:</span> <span class="kc">False</span>
</pre></div>
</div>
<p>The format allows the complete definition of a vendor, with the core element
being the <em>option-def</em> that defines, in particular, the list of sub-options
for encoding.</p>
<p>The definition can include a prefix to prepend to the encoding, and data-only
flags to handle both option 43 style encodings and option 125 style encodings.</p>
<p>Example Definitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="c1"># DHCP Vendor Option Definitions</span>
<span class="n">version</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mi">1</span>

<span class="n">vendors</span><span class="p">:</span>

    <span class="n">MS</span><span class="o">-</span><span class="n">UC</span><span class="o">-</span><span class="n">Client</span><span class="p">:</span>
        <span class="n">vci</span><span class="p">:</span> <span class="n">MS</span><span class="o">-</span><span class="n">UC</span><span class="o">-</span><span class="n">Client</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Microsoft</span> <span class="n">Lync</span> <span class="n">Client</span>
        <span class="n">option</span><span class="o">-</span><span class="n">def</span><span class="p">:</span>
            <span class="n">parent</span><span class="o">-</span><span class="n">option</span><span class="p">:</span>
                <span class="n">name</span><span class="p">:</span> <span class="n">option</span> <span class="mi">43</span>
                <span class="n">code</span><span class="p">:</span> <span class="mi">43</span>
                <span class="nb">type</span><span class="p">:</span> <span class="n">binary</span>
                <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
            <span class="n">sub</span><span class="o">-</span><span class="n">options</span><span class="p">:</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">UC</span> <span class="n">Identifier</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="n">MS</span><span class="o">-</span><span class="n">UC</span><span class="o">-</span><span class="n">Client</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">URL</span> <span class="n">Scheme</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">2</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="n">https</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Web</span> <span class="n">Server</span> <span class="n">FQDN</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">3</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="n">epslync01</span><span class="o">.</span><span class="n">epsilonhq</span><span class="o">.</span><span class="n">local</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Web</span> <span class="n">Server</span> <span class="n">Port</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">4</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="mi">443</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Certificate</span> <span class="n">Web</span> <span class="n">Service</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">5</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="o">/</span><span class="n">CertProv</span><span class="o">/</span><span class="n">CertProvisioningService</span><span class="o">.</span><span class="n">svc</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>


    <span class="c1">####### CISCO</span>
    <span class="c1"># Option 43 sub-option 241</span>

    <span class="n">Cisco</span> <span class="n">AP</span><span class="p">:</span>
        <span class="n">vci</span><span class="p">:</span> <span class="n">Cisco</span> <span class="n">AP</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Cisco</span> <span class="n">Aironet</span> <span class="n">Series</span> <span class="n">APs</span>
        <span class="n">option</span><span class="o">-</span><span class="n">def</span><span class="p">:</span>
            <span class="n">parent</span><span class="o">-</span><span class="n">option</span><span class="p">:</span>
                <span class="n">name</span><span class="p">:</span> <span class="n">option</span> <span class="mi">43</span>
                <span class="n">code</span><span class="p">:</span> <span class="mi">43</span>
                <span class="nb">type</span><span class="p">:</span> <span class="n">binary</span>
                <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
            <span class="n">sub</span><span class="o">-</span><span class="n">options</span><span class="p">:</span>
                <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Controller</span> <span class="n">IP</span>
                    <span class="n">code</span><span class="p">:</span> <span class="mi">241</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">ipv4_address</span>
                    <span class="n">data</span><span class="p">:</span> <span class="mf">10.150</span><span class="o">.</span><span class="mf">1.15</span><span class="p">,</span><span class="mf">10.150</span><span class="o">.</span><span class="mf">50.15</span>
                    <span class="n">array</span><span class="p">:</span> <span class="kc">True</span>


    <span class="c1">####### MITEL</span>

    <span class="n">Mitel</span><span class="p">:</span>
        <span class="n">vci</span><span class="p">:</span> <span class="n">Mitel</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Mitel</span> <span class="n">Phone</span> <span class="p">(</span><span class="n">prepend</span> <span class="mi">00000403</span><span class="p">)</span>
        <span class="n">prefix</span><span class="p">:</span> <span class="s2">&quot;00000403&quot;</span>
        <span class="n">option</span><span class="o">-</span><span class="n">def</span><span class="p">:</span>
            <span class="n">parent</span><span class="o">-</span><span class="n">option</span><span class="p">:</span>
                <span class="n">name</span><span class="p">:</span> <span class="n">option</span> <span class="mi">125</span>
                <span class="n">code</span><span class="p">:</span> <span class="mi">125</span>
                <span class="nb">type</span><span class="p">:</span> <span class="n">binary</span>
                <span class="n">array</span><span class="p">:</span> <span class="kc">False</span>
            <span class="n">sub</span><span class="o">-</span><span class="n">options</span><span class="p">:</span>
                <span class="o">-</span> <span class="n">code</span><span class="p">:</span> <span class="mi">125</span>
                    <span class="nb">type</span><span class="p">:</span> <span class="n">string</span>
                    <span class="n">data</span><span class="p">:</span> <span class="nb">id</span><span class="p">:</span><span class="n">ipphone</span><span class="o">.</span><span class="n">mitel</span><span class="o">.</span><span class="n">com</span><span class="p">;</span><span class="n">call_srv</span><span class="o">=</span><span class="n">X</span><span class="p">;</span><span class="n">vlan</span><span class="o">=</span><span class="n">X</span><span class="p">;</span><span class="n">dscp</span><span class="o">=</span><span class="mi">46</span><span class="p">;</span><span class="n">l2p</span><span class="o">=</span><span class="n">X</span><span class="p">;</span><span class="n">sw_tftp</span><span class="o">=</span><span class="n">X</span>
                    <span class="n">data</span><span class="o">-</span><span class="n">only</span><span class="p">:</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="dhcp-option-data-class.html#bloxone.DHCP_OPTION_DEFS" title="bloxone.DHCP_OPTION_DEFS"><code class="xref py py-class docutils literal notranslate"><span class="pre">bloxone.DHCP_OPTION_DEFS()</span></code></a> class allows you to specify the YAML
file to read, and enables you to read the elements quickly and easily. As
an example, the file above can be used to encode the vendors sub-options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bloxone</span>
<span class="n">de</span> <span class="o">=</span> <span class="n">bloxone</span><span class="o">.</span><span class="n">dhcp_encode</span><span class="p">()</span>
<span class="n">vendors</span> <span class="o">=</span> <span class="n">bloxone</span><span class="o">.</span><span class="n">DHCP_OPTION_DEFS</span><span class="p">(</span><span class="s1">&#39;vendor_dict.yaml&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">vendors</span><span class="o">.</span><span class="n">included</span><span class="p">(</span><span class="s1">&#39;MS-US-Client&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">de</span><span class="o">.</span><span class="n">encode_dhcp_option</span><span class="p">(</span><span class="n">vendors</span><span class="o">.</span><span class="n">sub_options</span><span class="p">(</span><span class="s1">&#39;MS-US-Client&#39;</span><span class="p">)))</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Vendor: MS-UC-Client, Encoding: 010c4d532d55432d436c69656e7402056874</span>
<span class="sd">74707303196570736c796e6330312e657073696c6f6e68712e6c6f63616c04033434</span>
<span class="sd">3305252f4365727450726f762f4365727450726f766973696f6e696e675365727669</span>
<span class="sd">63652e737663</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">if</span> <span class="n">vendors</span><span class="o">.</span><span class="n">included</span><span class="p">(</span><span class="s1">&#39;Mitel&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">de</span><span class="o">.</span><span class="n">encode_dhcp_option</span><span class="p">(</span><span class="n">vendors</span><span class="o">.</span><span class="n">sub_options</span><span class="p">(</span><span class="s1">&#39;Mitel&#39;</span><span class="p">)))</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Vendor: Mitel, Encoding: 0000040369643a697070686f6e652e6d6974656c2e636f</span>
<span class="sd">6d3b63616c6c5f7372763d583b766c616e3d583b647363703d34363b6c32703d583b737</span>
<span class="sd">75f746674703d58</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># Process all vendors:</span>
<span class="k">for</span> <span class="n">vendor</span> <span class="ow">in</span> <span class="n">vendors</span><span class="o">.</span><span class="n">vendors</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">vendor</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">de</span><span class="o">.</span><span class="n">encode_dhcp_option</span><span class="p">(</span><span class="n">vendors</span><span class="o">.</span><span class="n">sub_options</span><span class="p">(</span><span class="s1">&#39;Mitel&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<p>An example script using both classes to perform encodings from a CLI
can be found on github
<a class="reference external" href="https://github.com/ccmarris/dhcp_option_encoding">https://github.com/ccmarris/dhcp_option_encoding</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="utils.html" class="btn btn-neutral float-right" title="Additional Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="dhcp-option-data-class.html" class="btn btn-neutral float-left" title="DHCP Option Data Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Chris Marrison.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>